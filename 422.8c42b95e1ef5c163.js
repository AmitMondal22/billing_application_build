"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[422],{8422:(P,C,r)=>{r.r(C),r.d(C,{TableDemoModule:()=>G});var u=r(6814),g=r(95),o=r(2129),v=r(5219),T=r(9862),e=r(4769),Z=r(981),D=r(8814),f=r(9232),l=r(707),c=r(3714),m=r(4480),_=r(4104),h=r(1312),A=r(6340),M=r(3904);function S(t,d){if(1&t){const a=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.openNew())}),e.qZA(),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.deleteSelectedProducts())}),e.qZA()}if(2&t){const a=e.oxw();e.xp6(1),e.Q6J("label",a.Delete)("disabled",!a.selectedProducts||!a.selectedProducts.length)}}function w(t,d){1&t&&e._UZ(0,"p-fileUpload",15)(1,"button",16),2&t&&e.Q6J("maxFileSize",1e6)}function N(t,d){if(1&t){const a=e.EpF();e.TgZ(0,"div",17)(1,"h5",18),e._uU(2,"Manage Companys"),e.qZA(),e.TgZ(3,"span",19),e._UZ(4,"i",20),e.TgZ(5,"input",21),e.NdJ("input",function(i){e.CHM(a),e.oxw();const s=e.MAs(6);return e.KtG(s.filterGlobal(i.target.value,"contains"))}),e.qZA()()()}}function J(t,d){1&t&&(e.TgZ(0,"tr")(1,"th",22),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"Name "),e._UZ(7,"p-sortIcon",24),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Action"),e.qZA()())}function k(t,d){if(1&t){const a=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",25),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",26),e.NdJ("click",function(){const s=e.CHM(a).$implicit,p=e.oxw();return e.KtG(p.editProduct(s))}),e.qZA(),e.TgZ(9,"button",27),e.NdJ("click",function(){const s=e.CHM(a).$implicit,p=e.oxw();return e.KtG(p.deleteProduct(s))}),e.qZA()()()}if(2&t){const a=d.$implicit;e.xp6(2),e.Q6J("value",a),e.xp6(2),e.Oqu(a.company_id),e.xp6(2),e.Oqu(a.company_name)}}function B(t,d){if(1&t&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.hij("In total there are ",a.products?a.products.length:0," products.")}}function I(t,d){1&t&&(e.TgZ(0,"small",32),e._uU(1,"Company Name is required."),e.qZA())}function Y(t,d){if(1&t){const a=e.EpF();e.TgZ(0,"div",28)(1,"label",29),e._uU(2,"Company Name"),e.qZA(),e.TgZ(3,"input",30),e.NdJ("ngModelChange",function(i){e.CHM(a);const s=e.oxw();return e.KtG(s.product.company_name=i)}),e.qZA(),e.YNc(4,I,2,0,"small",31),e.qZA()}if(2&t){const a=e.oxw();e.xp6(3),e.Q6J("ngModel",a.product.company_name),e.xp6(1),e.Q6J("ngIf",a.submitted&&!a.product.company_name)}}function F(t,d){if(1&t){const a=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.hideDialog())}),e.qZA(),e.TgZ(1,"button",34),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.saveProduct())}),e.qZA()}}const E=function(){return["name","country.name","representative.name","status"]},R=function(){return{"min-width":"75rem"}},U=function(){return{width:"450px"}};let z=(()=>{var t;class d{constructor(n,i,s,p,y){this.http=n,this.productService=i,this.messageService=s,this.confirmationService=p,this.api=y,this.productDialog=!1,this.submitted=!1,this.data1=[]}ngOnInit(){this.getDeviceDATA()}getDeviceDATA(){const n=this.api.baseUrl,i=localStorage.getItem("token"),s=(new T.WM).set("Authorization",`Bearer ${i}`);this.http.get(n+"/master/company_name",{headers:s}).subscribe(p=>{console.log(p),this.data1=p,this.products=this.data1.data},p=>{console.error(p)})}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products=this.products.filter(n=>!this.selectedProducts?.includes(n)),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}editProduct(n){this.product={...n},this.productDialog=!0}deleteProduct(n){this.confirmationService.confirm({message:"Are you sure you want to delete "+n.company_name+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.DeleteCompany(n.company_id)}})}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0,this.product.company_name?.trim()&&(this.product.company_id?this.updateCompany(this.product.company_id,this.product.company_name):this.AddCompany(this.product.company_name),this.products=[...this.products],this.productDialog=!1,this.product={})}findIndexById(n){let i=-1;for(let s=0;s<this.products.length;s++)if(this.products[s].company_id===n){i=s;break}return i}updateCompany(n,i){const s={company_id:n,company_name:i},p=this.api.baseUrl,y=localStorage.getItem("token"),b=(new T.WM).set("Authorization",`Bearer ${y}`);this.http.post(p+"/master/edit_company_name",s,{headers:b}).subscribe(x=>{console.log(x),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Updated",life:3e3}),this.getDeviceDATA()},x=>{console.error(x)})}AddCompany(n){const i={company_name:n},s=this.api.baseUrl,p=localStorage.getItem("token"),y=(new T.WM).set("Authorization",`Bearer ${p}`);this.http.post(s+"/master/add_company_name",i,{headers:y}).subscribe(b=>{console.log(b),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Created",life:3e3}),this.getDeviceDATA()},b=>{console.error(b)})}DeleteCompany(n){const i={company_id:n},s=this.api.baseUrl,p=localStorage.getItem("token"),y=(new T.WM).set("Authorization",`Bearer ${p}`);this.http.post(s+"/master/delete_company_name",i,{headers:y}).subscribe(b=>{console.log(b),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Deleted",life:3e3}),this.getDeviceDATA()},b=>{console.error(b)})}}return(t=d).\u0275fac=function(n){return new(n||t)(e.Y36(T.eN),e.Y36(Z.M),e.Y36(v.ez),e.Y36(v.YP),e.Y36(D.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],features:[e._Bn([v.ez,v.YP])],decls:15,vars:18,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],["dataKey","company_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Product Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger",3,"label","disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","4rem"],["pSortableColumn","name",2,"min-width","15rem"],["field","name"],[3,"value"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngModelChange"],["class","p-error",4,"ngIf"],[1,"p-error"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"p-toolbar",1),e.YNc(3,S,2,2,"ng-template",2),e.YNc(4,w,2,1,"ng-template",3),e.qZA(),e.TgZ(5,"p-table",4,5),e.NdJ("selectionChange",function(p){return i.selectedProducts=p}),e.YNc(7,N,6,0,"ng-template",6),e.YNc(8,J,10,0,"ng-template",7),e.YNc(9,k,10,3,"ng-template",8),e.YNc(10,B,2,1,"ng-template",9),e.qZA()(),e.TgZ(11,"p-dialog",10),e.NdJ("visibleChange",function(p){return i.productDialog=p}),e.YNc(12,Y,5,2,"ng-template",11),e.YNc(13,F,2,0,"ng-template",12),e.qZA(),e._UZ(14,"p-confirmDialog")),2&n&&(e.xp6(5),e.Q6J("value",i.products)("rows",4)("paginator",!0)("globalFilterFields",e.DdM(14,E))("tableStyle",e.DdM(15,R))("selection",i.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),e.xp6(6),e.Akn(e.DdM(16,U)),e.Q6J("visible",i.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(17,U)))},dependencies:[u.O5,g.Fj,g.JJ,g.Q7,g.On,f.iA,v.jx,f.lQ,f.fz,f.UA,f.Mo,l.Hq,c.o,m.H,_.FN,h.V,A.o,M.Q],encapsulation:2}),d})(),H=(()=>{var t;class d{}return(t=d).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[o.Bz.forChild([{path:"",component:z}]),o.Bz]}),d})();var Q=r(6804),K=r(4055),O=r(3965),j=r(6651),W=r(7902),q=r(6022);let G=(()=>{var t;class d{}return(t=d).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,H,g.u5,f.U$,q.Xt,l.hJ,W.JH,c.j,Q.KZ,m.T,K.q4,O.kW,j.q,_.EV,h.S,A.V,M.D]}),d})()},6651:(P,C,r)=>{r.d(C,{k:()=>D,q:()=>f});var u=r(1180),g=r(6814),o=r(4769);function v(l,c){if(1&l&&(o.TgZ(0,"div",5),o._uU(1),o.qZA()),2&l){const m=o.oxw(2);o.Udp("display",null!=m.value&&0!==m.value?"flex":"none"),o.xp6(1),o.AsE("",m.value,"",m.unit,"")}}function T(l,c){if(1&l&&(o.TgZ(0,"div",3),o.YNc(1,v,2,4,"div",4),o.qZA()),2&l){const m=o.oxw();o.Udp("width",m.value+"%")("background",m.color),o.xp6(1),o.Q6J("ngIf",m.showValue)}}function e(l,c){if(1&l&&(o.TgZ(0,"div",6),o._UZ(1,"div",7),o.qZA()),2&l){const m=o.oxw();o.xp6(1),o.Udp("background",m.color)}}const Z=function(l,c){return{"p-progressbar p-component":!0,"p-progressbar-determinate":l,"p-progressbar-indeterminate":c}};let D=(()=>{var l;class c{constructor(){(0,u.Z)(this,"value",void 0),(0,u.Z)(this,"showValue",!0),(0,u.Z)(this,"styleClass",void 0),(0,u.Z)(this,"style",void 0),(0,u.Z)(this,"unit","%"),(0,u.Z)(this,"mode","determinate"),(0,u.Z)(this,"color",void 0)}}return l=c,(0,u.Z)(c,"\u0275fac",function(_){return new(_||l)}),(0,u.Z)(c,"\u0275cmp",o.Xpm({type:l,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(_,h){1&_&&(o.TgZ(0,"div",0),o.YNc(1,T,2,5,"div",1),o.YNc(2,e,2,2,"div",2),o.qZA()),2&_&&(o.Tol(h.styleClass),o.Q6J("ngStyle",h.style)("ngClass",o.WLB(7,Z,"determinate"===h.mode,"indeterminate"===h.mode)),o.uIk("aria-valuenow",h.value),o.xp6(1),o.Q6J("ngIf","determinate"===h.mode),o.xp6(1),o.Q6J("ngIf","indeterminate"===h.mode))},dependencies:[g.mk,g.O5,g.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})),c})(),f=(()=>{var l;class c{}return l=c,(0,u.Z)(c,"\u0275fac",function(_){return new(_||l)}),(0,u.Z)(c,"\u0275mod",o.oAB({type:l})),(0,u.Z)(c,"\u0275inj",o.cJS({imports:[g.ez]})),c})()}}]);