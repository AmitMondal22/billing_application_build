"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[118],{2584:(V,h,e)=>{e.r(h),e.d(h,{FloatlabelDemoModule:()=>X});var u=e(6814),F=e(95),f=e(3557),c=e(9862),g=e(5118),p=e(5219),T=e(3026),t=e(4769),b=e(8814),v=e(981),L=e(218),A=e(707),d=e(3714),Z=e(7680),C=e(4104),x=e(2947),y=e(9232);const U=["view"];function M(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",10)(1,"span",11),t._UZ(2,"i",12),t.TgZ(3,"input",13),t.NdJ("keyup",function(i){t.CHM(n);const a=t.oxw();return t.KtG(a.searchAll(i))}),t.qZA()()()}2&o&&(t.xp6(3),t.Q6J("autofocus",!0))}function N(o,r){1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Cust ID"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Customer Name"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Mobile No"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Address"),t.qZA(),t.TgZ(9,"th",14),t._uU(10,"View full Details"),t.qZA()())}function S(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",15)(10,"button",16),t.NdJ("click",function(){const a=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.show(a))}),t.qZA()()()}if(2&o){const n=r.$implicit;t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.mobile_no),t.xp6(2),t.Oqu(n.adress)}}function z(o,r){1&o&&(t.TgZ(0,"div",17),t._UZ(1,"p-progressSpinner"),t.qZA())}const P=function(){return{"min-width":"50rem"}};let I=(()=>{var o;class r{constructor(s,i,a,l,m,K){this.api=s,this.productService=i,this.http=a,this.billID=l,this.dialogService=m,this.messageService=K,this.modelList=[],this.lastAddedIndex=-1,this.stockList=[],this.spinner=!1,this.first=0,this.rows=2}ngOnInit(){this.getAllCustomer()}onPageChange(s){this.first=s.first,this.rows=s.rows,this.goingPage=s.page+1,this.loadNewPage(this.goingPage)}loadNewPage(s){this.spinner=!0;const i=this.api.baseUrl,a=localStorage.getItem("token"),l=(new c.WM).set("Authorization",`Bearer ${a}`);this.http.get(i+"/report/my_bill?page="+s,{headers:l}).subscribe(m=>{this.spinner=!1,this.stockApi=m,this.stockList=this.stockApi.data})}getAllCustomer(){this.totalPGNO=0,this.spinner=!0;const s=this.api.baseUrl,i=localStorage.getItem("token"),a=(new c.WM).set("Authorization",`Bearer ${i}`);this.http.get(s+"/customer/customer_list",{headers:a}).subscribe(l=>{this.spinner=!1,console.log(l),this.stockApi=l,this.stockListAll=this.stockApi.data,this.stockList=this.stockListAll.data,this.totalPGNO=this.stockApi.total},l=>{this.spinner=!1,console.error(l)})}searchAll(s){this.spinner=!0;const i=this.api.baseUrl,a=localStorage.getItem("token"),l=(new c.WM).set("Authorization",`Bearer ${a}`);this.http.get(i+"/report/my_bill?page=1&search="+s.target.value.toString(),{headers:l}).subscribe(m=>{this.spinner=!1,this.stockApi=m,this.stockList=this.stockApi.data,this.totalPGNO=this.stockApi.total})}show(s){this.billID.cust_id=0,this.billID.cust_id=s.id,this.ref=this.dialogService.open(T.D,{header:"Customer Full Details",data:{id:s.cust_id},width:"70%",contentStyle:{overflow:"auto"},baseZIndex:1e4,maximizable:!0}),this.ref.onClose.subscribe(i=>{i&&this.messageService.add({severity:"info",summary:"Product Selected",detail:i.name})}),this.ref.onMaximize.subscribe(i=>{this.messageService.add({severity:"info",summary:"Maximized",detail:`maximized: ${i.maximized}`})})}ngOnDestroy(){this.ref&&this.ref.close()}}return(o=r).\u0275fac=function(s){return new(s||o)(t.Y36(b.s),t.Y36(v.M),t.Y36(c.eN),t.Y36(v.M),t.Y36(g.xA),t.Y36(p.ez))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(s,i){if(1&s&&t.Gf(U,7),2&s){let a;t.iGM(a=t.CRH())&&(i.view=a.first)}},features:[t._Bn([g.xA,p.ez])],decls:11,vars:7,consts:[[1,"grid"],[1,"col-12",2,"max-height","600px","overflow","scroll"],[3,"value","tableStyle"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"card","flex","justify-content-center"],[3,"first","rows","totalRecords","onPageChange"],["class","spinner_overlay",4,"ngIf"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","pAutoFocus","","type","text","placeholder","Search keyword",3,"autofocus","keyup"],[2,"width","10rem"],[2,"text-align","center"],["type","button","pButton","","pRipple","","icon","pi pi-eye",3,"click"],[1,"spinner_overlay"]],template:function(s,i){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"div",1)(3,"p-table",2,3),t.YNc(5,M,4,1,"ng-template",4),t.YNc(6,N,11,0,"ng-template",5),t.YNc(7,S,11,4,"ng-template",6),t.qZA(),t.TgZ(8,"div",7)(9,"p-paginator",8),t.NdJ("onPageChange",function(l){return i.onPageChange(l)}),t.qZA()()(),t.YNc(10,z,2,0,"div",9),t.qZA()),2&s&&(t.xp6(3),t.Q6J("value",i.stockList)("tableStyle",t.DdM(6,P)),t.xp6(6),t.Q6J("first",i.first)("rows",i.rows)("totalRecords",i.totalPGNO),t.xp6(1),t.Q6J("ngIf",i.spinner))},dependencies:[u.O5,p.jx,L.P,A.Hq,d.o,Z.G,C.FN,x.D,y.iA],encapsulation:2}),r})(),O=(()=>{var o;class r{}return(o=r).\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild([{path:"",component:I}]),f.Bz]}),r})();var Y=e(7327),G=e(1532),J=e(1480),D=e(3965),k=e(9663),B=e(5167),$=e(8062),R=e(4055),j=e(6218),Q=e(4037),W=e(8052),H=e(1825),E=e(6022);let X=(()=>{var o;class r{}return(o=r).\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[p.ez,p.YP],imports:[u.ez,F.u5,O,Y.WN,G._8,J.Gg,D.kW,k.zz,B.L$,$.XH,R.q4,j.A,d.j,Q.FI,W.f,H.C,d.j,D.kW,E.Xt,A.hJ,Z.L,g.DL,C.EV,x.U,y.U$]}),r})()}}]);