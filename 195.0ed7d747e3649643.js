"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[195],{5195:(w,M,s)=>{s.r(M),s.d(M,{ModelModule:()=>X});var u=s(6814),y=s(2129),n=s(5219),_=s(9862),e=s(4769),g=s(95),x=s(981),T=s(8814),b=s(9232),d=s(707),c=s(3714),m=s(4480),f=s(4104),h=s(1312),D=s(6340),S=s(3904);function P(t,p){if(1&t){const i=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.openNew())}),e.qZA(),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.deleteSelectedProducts())}),e.qZA()}if(2&t){const i=e.oxw();e.xp6(1),e.Q6J("label",i.Delete)("disabled",!i.selectedProducts||!i.selectedProducts.length)}}function N(t,p){1&t&&e._UZ(0,"p-fileUpload",15)(1,"button",16),2&t&&e.Q6J("maxFileSize",1e6)}function J(t,p){if(1&t){const i=e.EpF();e.TgZ(0,"div",17)(1,"h5",18),e._uU(2,"Manage Models"),e.qZA(),e.TgZ(3,"span",19),e._UZ(4,"i",20),e.TgZ(5,"input",21),e.NdJ("input",function(r){e.CHM(i),e.oxw();const l=e.MAs(6);return e.KtG(l.filterGlobal(r.target.value,"contains"))}),e.qZA()()()}}function k(t,p){1&t&&(e.TgZ(0,"tr")(1,"th",22),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"Company Name "),e._UZ(7,"p-sortIcon",24),e.qZA(),e.TgZ(8,"th",25),e._uU(9,"Product Name "),e._UZ(10,"p-sortIcon",26),e.qZA(),e.TgZ(11,"th",27),e._uU(12,"Model Name "),e._UZ(13,"p-sortIcon",28),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Action"),e.qZA()())}function B(t,p){if(1&t){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",29),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",30),e.NdJ("click",function(){const l=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.editProduct(l))}),e.qZA(),e.TgZ(13,"button",31),e.NdJ("click",function(){const l=e.CHM(i).$implicit,a=e.oxw();return e.KtG(a.deleteProduct(l))}),e.qZA()()()}if(2&t){const i=p.$implicit;e.xp6(2),e.Q6J("value",i),e.xp6(2),e.Oqu(i.model_id),e.xp6(2),e.Oqu(i.company_name),e.xp6(2),e.Oqu(i.product_name),e.xp6(2),e.Oqu(i.model_name)}}function I(t,p){if(1&t&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("In total there are ",i.model?i.model.length:0," Models.")}}function F(t,p){if(1&t&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&t){const i=p.$implicit;e.Q6J("value",i.company_id),e.xp6(1),e.Oqu(i.company_name)}}function q(t,p){if(1&t&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&t){const i=p.$implicit;e.Q6J("value",i.product_id),e.xp6(1),e.Oqu(i.product_name)}}function Y(t,p){if(1&t&&(e.TgZ(0,"from",32)(1,"div",33)(2,"label",34),e._uU(3,"Company Name"),e.qZA(),e.TgZ(4,"select",35)(5,"option",36),e._uU(6,"Select a Company"),e.qZA(),e.YNc(7,F,2,2,"option",37),e.qZA()(),e.TgZ(8,"div",33)(9,"label",38),e._uU(10,"Product Name"),e.qZA(),e.TgZ(11,"select",39)(12,"option",36),e._uU(13,"Select a Product"),e.qZA(),e.YNc(14,q,2,2,"option",37),e.qZA()(),e.TgZ(15,"div",33)(16,"label",38),e._uU(17,"Model Name"),e.qZA(),e._UZ(18,"input",40),e.qZA()()),2&t){const i=e.oxw();e.Q6J("formGroup",i.userForm),e.xp6(7),e.Q6J("ngForOf",i.companys),e.xp6(7),e.Q6J("ngForOf",i.products)}}function E(t,p){if(1&t){const i=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.hideDialog())}),e.qZA(),e.TgZ(1,"button",42),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.saveProduct())}),e.qZA()}}const R=function(){return["name","country.name","representative.name","status"]},z=function(){return{"min-width":"75rem"}},O=function(){return{width:"550px"}},Q=function(){return{width:"450px"}};let L=(()=>{var t;class p{constructor(o,r,l,a,Z,v){this.formBuilder=o,this.http=r,this.productService=l,this.messageService=a,this.confirmationService=Z,this.api=v,this.productDialog=!1,this.submitted=!1,this.companyList=[],this.productList=[],this.modelList=[],this.userForm=this.formBuilder.group({company_id:[""],product_id:[""],model_name:[""],model_id:[""]})}ngOnInit(){this.ct=this.userForm.controls,this.getDeviceCompany(),this.getDeviceProduct(),this.getDeviceModel()}getDeviceModel(){const o=this.api.baseUrl,r=localStorage.getItem("token"),l=(new _.WM).set("Authorization",`Bearer ${r}`);this.http.get(o+"/master/model_name",{headers:l}).subscribe(a=>{console.log(a),this.modelList=a,this.models=this.modelList.data},a=>{console.error(a),this.messageService.add({severity:"error",summary:"Error",detail:"From Server Side!!",life:3e3})})}getDeviceCompany(){const o=this.api.baseUrl,r=localStorage.getItem("token"),l=(new _.WM).set("Authorization",`Bearer ${r}`);this.http.get(o+"/master/company_name",{headers:l}).subscribe(a=>{console.log(a),this.companyList=a,this.companys=this.companyList.data},a=>{console.error(a)})}getDeviceProduct(){const o=this.api.baseUrl,r=localStorage.getItem("token"),l=(new _.WM).set("Authorization",`Bearer ${r}`);this.http.get(o+"/master/product_name",{headers:l}).subscribe(a=>{console.log(a),this.productList=a,this.products=this.productList.data},a=>{console.error(a)})}openNew(){this.userForm.reset(),this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products=this.products.filter(o=>!this.selectedProducts?.includes(o)),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}editProduct(o){this.product={...o},this.productDialog=!0,this.userForm.patchValue({company_id:o.company_id,product_id:o.product_id,model_name:o.model_name,model_id:o.model_id})}deleteProduct(o){this.confirmationService.confirm({message:"Are you sure you want to delete "+o.model_name+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.DeleteCompany(o.model_id)}})}hideDialog(){this.productDialog=!1}saveProduct(){this.product.model_id?this.updateCompany(this.ct.company_id.value,this.ct.product_id.value,this.ct.model_name.value,this.ct.model_id.value):this.AddCompany(this.ct.company_id.value,this.ct.product_id.value,this.ct.model_name.value),this.products=[...this.products],this.productDialog=!1,this.product={}}findIndexById(o){let r=-1;for(let l=0;l<this.products.length;l++)if(this.products[l].company_id===o){r=l;break}return r}updateCompany(o,r,l,a){const Z={company_id:o,product_id:r,model_name:l,model_id:a},v=this.api.baseUrl,A=localStorage.getItem("token"),C=(new _.WM).set("Authorization",`Bearer ${A}`);this.http.post(v+"/master/edit_model_name",Z,{headers:C}).subscribe(U=>{console.log(U),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Updated",life:3e3}),this.getDeviceModel()},U=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(U)})}AddCompany(o,r,l){const a={company_id:o,product_id:r,model_name:l},Z=this.api.baseUrl,v=localStorage.getItem("token"),A=(new _.WM).set("Authorization",`Bearer ${v}`);this.http.post(Z+"/master/add_model_name",a,{headers:A}).subscribe(C=>{console.log(C),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Created",life:3e3}),this.getDeviceModel()},C=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(C)})}DeleteCompany(o){const r={model_id:o},l=this.api.baseUrl,a=localStorage.getItem("token"),Z=(new _.WM).set("Authorization",`Bearer ${a}`);this.http.post(l+"/master/delete_model_name",r,{headers:Z}).subscribe(v=>{console.log(v),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Deleted",life:3e3}),this.getDeviceModel()},v=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(v)})}}return(t=p).\u0275fac=function(o){return new(o||t)(e.Y36(g.qu),e.Y36(_.eN),e.Y36(x.M),e.Y36(n.ez),e.Y36(n.YP),e.Y36(T.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-model"]],features:[e._Bn([n.ez,n.YP])],decls:15,vars:18,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],["dataKey","company_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Product Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger",3,"label","disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","4rem"],["pSortableColumn","company",2,"min-width","15rem"],["field","company"],["pSortableColumn","product",2,"min-width","15rem"],["field","product"],["pSortableColumn","model",2,"min-width","15rem"],["field","model"],[3,"value"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[3,"formGroup"],[1,"field"],["for","company"],["formControlName","company_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["for","product"],["formControlName","product_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["formControlName","model_name","type","text","required","",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"p-toolbar",1),e.YNc(3,P,2,2,"ng-template",2),e.YNc(4,N,2,1,"ng-template",3),e.qZA(),e.TgZ(5,"p-table",4,5),e.NdJ("selectionChange",function(a){return r.selectedProducts=a}),e.YNc(7,J,6,0,"ng-template",6),e.YNc(8,k,16,0,"ng-template",7),e.YNc(9,B,14,5,"ng-template",8),e.YNc(10,I,2,1,"ng-template",9),e.qZA()(),e.TgZ(11,"p-dialog",10),e.NdJ("visibleChange",function(a){return r.productDialog=a}),e.YNc(12,Y,19,3,"ng-template",11),e.YNc(13,E,2,0,"ng-template",12),e.qZA(),e._UZ(14,"p-confirmDialog")),2&o&&(e.xp6(5),e.Q6J("value",r.models)("rows",4)("paginator",!0)("globalFilterFields",e.DdM(14,R))("tableStyle",e.DdM(15,z))("selection",r.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),e.xp6(6),e.Akn(e.DdM(16,O)),e.Q6J("visible",r.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(17,Q)))},dependencies:[u.sg,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.JL,g.Q7,b.iA,n.jx,b.lQ,b.fz,b.UA,b.Mo,d.Hq,c.o,m.H,f.FN,h.V,D.o,S.Q,g.sg,g.u]}),p})(),H=(()=>{var t;class p{}return(t=p).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[y.Bz.forChild([{path:"",component:L}]),y.Bz]}),p})();var K=s(6804),W=s(4055),$=s(3965),j=s(6651),G=s(7902),V=s(6022);let X=(()=>{var t;class p{}return(t=p).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,g.u5,b.U$,V.Xt,d.hJ,G.JH,c.j,K.KZ,m.T,W.q4,$.kW,j.q,f.EV,h.S,D.V,S.D,H,g.UX]}),p})()},6651:(w,M,s)=>{s.d(M,{k:()=>T,q:()=>b});var u=s(1180),y=s(6814),n=s(4769);function _(d,c){if(1&d&&(n.TgZ(0,"div",5),n._uU(1),n.qZA()),2&d){const m=n.oxw(2);n.Udp("display",null!=m.value&&0!==m.value?"flex":"none"),n.xp6(1),n.AsE("",m.value,"",m.unit,"")}}function e(d,c){if(1&d&&(n.TgZ(0,"div",3),n.YNc(1,_,2,4,"div",4),n.qZA()),2&d){const m=n.oxw();n.Udp("width",m.value+"%")("background",m.color),n.xp6(1),n.Q6J("ngIf",m.showValue)}}function g(d,c){if(1&d&&(n.TgZ(0,"div",6),n._UZ(1,"div",7),n.qZA()),2&d){const m=n.oxw();n.xp6(1),n.Udp("background",m.color)}}const x=function(d,c){return{"p-progressbar p-component":!0,"p-progressbar-determinate":d,"p-progressbar-indeterminate":c}};let T=(()=>{var d;class c{constructor(){(0,u.Z)(this,"value",void 0),(0,u.Z)(this,"showValue",!0),(0,u.Z)(this,"styleClass",void 0),(0,u.Z)(this,"style",void 0),(0,u.Z)(this,"unit","%"),(0,u.Z)(this,"mode","determinate"),(0,u.Z)(this,"color",void 0)}}return d=c,(0,u.Z)(c,"\u0275fac",function(f){return new(f||d)}),(0,u.Z)(c,"\u0275cmp",n.Xpm({type:d,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(f,h){1&f&&(n.TgZ(0,"div",0),n.YNc(1,e,2,5,"div",1),n.YNc(2,g,2,2,"div",2),n.qZA()),2&f&&(n.Tol(h.styleClass),n.Q6J("ngStyle",h.style)("ngClass",n.WLB(7,x,"determinate"===h.mode,"indeterminate"===h.mode)),n.uIk("aria-valuenow",h.value),n.xp6(1),n.Q6J("ngIf","determinate"===h.mode),n.xp6(1),n.Q6J("ngIf","indeterminate"===h.mode))},dependencies:[y.mk,y.O5,y.PC],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})),c})(),b=(()=>{var d;class c{}return d=c,(0,u.Z)(c,"\u0275fac",function(f){return new(f||d)}),(0,u.Z)(c,"\u0275mod",n.oAB({type:d})),(0,u.Z)(c,"\u0275inj",n.cJS({imports:[y.ez]})),c})()}}]);