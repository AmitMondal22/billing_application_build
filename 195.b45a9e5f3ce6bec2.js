"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[195],{5195:(D,x,a)=>{a.r(x),a.d(x,{ModelModule:()=>X});var v=a(6814),C=a(3557),_=a(5219),u=a(9862),e=a(4769),m=a(95),A=a(981),P=a(8814),h=a(9232),c=a(707),p=a(3714),d=a(4480),b=a(4104),M=a(1312),S=a(6340),U=a(3904);function N(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.openNew())}),e.qZA(),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.deleteSelectedProducts())}),e.qZA()}if(2&t){const i=e.oxw();e.xp6(1),e.Q6J("label",i.Delete)("disabled",!i.selectedProducts||!i.selectedProducts.length)}}function w(t,l){1&t&&e._UZ(0,"p-fileUpload",15)(1,"button",16),2&t&&e.Q6J("maxFileSize",1e6)}function B(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"div",17)(1,"h5",18),e._uU(2,"Manage Models"),e.qZA(),e.TgZ(3,"span",19),e._UZ(4,"i",20),e.TgZ(5,"input",21),e.NdJ("input",function(n){e.CHM(i),e.oxw();const s=e.MAs(6);return e.KtG(s.filterGlobal(n.target.value,"contains"))}),e.qZA()()()}}function I(t,l){1&t&&(e.TgZ(0,"tr")(1,"th",22),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",23),e._uU(6,"Color Name "),e._UZ(7,"p-sortIcon",24),e.qZA(),e.TgZ(8,"th",25),e._uU(9,"Product Name "),e._UZ(10,"p-sortIcon",26),e.qZA(),e.TgZ(11,"th",27),e._uU(12,"Model Name "),e._UZ(13,"p-sortIcon",28),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Action"),e.qZA()())}function F(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",29),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",30),e.NdJ("click",function(){const s=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.editProduct(s))}),e.qZA(),e.TgZ(13,"button",31),e.NdJ("click",function(){const s=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.deleteProduct(s))}),e.qZA()()()}if(2&t){const i=l.$implicit;e.xp6(2),e.Q6J("value",i),e.xp6(2),e.Oqu(i.model_id),e.xp6(2),e.Oqu(i.company_name),e.xp6(2),e.Oqu(i.product_name),e.xp6(2),e.Oqu(i.model_name)}}function J(t,l){if(1&t&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij("In total there are ",i.model?i.model.length:0," Models.")}}function k(t,l){if(1&t&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&t){const i=l.$implicit;e.Q6J("value",i.company_id),e.xp6(1),e.Oqu(i.company_name)}}function E(t,l){if(1&t&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&t){const i=l.$implicit;e.Q6J("value",i.product_id),e.xp6(1),e.Oqu(i.product_name)}}function R(t,l){if(1&t&&(e.TgZ(0,"from",32)(1,"div",33)(2,"label",34),e._uU(3,"Color Name"),e.qZA(),e.TgZ(4,"select",35)(5,"option",36),e._uU(6,"Select a Company"),e.qZA(),e.YNc(7,k,2,2,"option",37),e.qZA()(),e.TgZ(8,"div",33)(9,"label",38),e._uU(10,"Product Name"),e.qZA(),e.TgZ(11,"select",39)(12,"option",36),e._uU(13,"Select a Product"),e.qZA(),e.YNc(14,E,2,2,"option",37),e.qZA()(),e.TgZ(15,"div",33)(16,"label",38),e._uU(17,"Model Name"),e.qZA(),e._UZ(18,"input",40),e.qZA()()),2&t){const i=e.oxw();e.Q6J("formGroup",i.userForm),e.xp6(7),e.Q6J("ngForOf",i.companys),e.xp6(7),e.Q6J("ngForOf",i.products)}}function q(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.hideDialog())}),e.qZA(),e.TgZ(1,"button",42),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.saveProduct())}),e.qZA()}}const Y=function(){return["name","country.name","representative.name","status"]},z=function(){return{"min-width":"75rem"}},O=function(){return{width:"550px"}},L=function(){return{width:"450px"}};let H=(()=>{var t;class l{constructor(o,n,s,r,f,g){this.formBuilder=o,this.http=n,this.productService=s,this.messageService=r,this.confirmationService=f,this.api=g,this.productDialog=!1,this.submitted=!1,this.companyList=[],this.productList=[],this.modelList=[],this.userForm=this.formBuilder.group({company_id:[""],product_id:[""],model_name:[""],model_id:[""]})}ngOnInit(){this.ct=this.userForm.controls,this.getDeviceCompany(),this.getDeviceProduct(),this.getDeviceModel()}getDeviceModel(){const o=this.api.baseUrl,n=localStorage.getItem("token"),s=(new u.WM).set("Authorization",`Bearer ${n}`);this.http.get(o+"/master/model_name",{headers:s}).subscribe(r=>{console.log(r),this.modelList=r,this.models=this.modelList.data},r=>{console.error(r),this.messageService.add({severity:"error",summary:"Error",detail:"From Server Side!!",life:3e3})})}getDeviceCompany(){const o=this.api.baseUrl,n=localStorage.getItem("token"),s=(new u.WM).set("Authorization",`Bearer ${n}`);this.http.get(o+"/master/company_name",{headers:s}).subscribe(r=>{console.log(r),this.companyList=r,this.companys=this.companyList.data},r=>{console.error(r)})}getDeviceProduct(){const o=this.api.baseUrl,n=localStorage.getItem("token"),s=(new u.WM).set("Authorization",`Bearer ${n}`);this.http.get(o+"/master/product_name",{headers:s}).subscribe(r=>{console.log(r),this.productList=r,this.products=this.productList.data},r=>{console.error(r)})}openNew(){this.userForm.reset(),this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:"Are you sure you want to delete the selected products?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.products=this.products.filter(o=>!this.selectedProducts?.includes(o)),this.selectedProducts=null,this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3})}})}editProduct(o){this.product={...o},this.productDialog=!0,this.userForm.patchValue({company_id:o.company_id,product_id:o.product_id,model_name:o.model_name,model_id:o.model_id})}deleteProduct(o){this.confirmationService.confirm({message:"Are you sure you want to delete "+o.model_name+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.DeleteCompany(o.model_id)}})}hideDialog(){this.productDialog=!1}saveProduct(){this.product.model_id?this.updateCompany(this.ct.company_id.value,this.ct.product_id.value,this.ct.model_name.value,this.ct.model_id.value):this.AddCompany(this.ct.company_id.value,this.ct.product_id.value,this.ct.model_name.value),this.products=[...this.products],this.productDialog=!1,this.product={}}findIndexById(o){let n=-1;for(let s=0;s<this.products.length;s++)if(this.products[s].company_id===o){n=s;break}return n}updateCompany(o,n,s,r){const f={company_id:o,product_id:n,model_name:s,model_id:r},g=this.api.baseUrl,Z=localStorage.getItem("token"),y=(new u.WM).set("Authorization",`Bearer ${Z}`);this.http.post(g+"/master/edit_model_name",f,{headers:y}).subscribe(T=>{console.log(T),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Updated",life:3e3}),this.getDeviceModel()},T=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(T)})}AddCompany(o,n,s){const r={company_id:o,product_id:n,model_name:s},f=this.api.baseUrl,g=localStorage.getItem("token"),Z=(new u.WM).set("Authorization",`Bearer ${g}`);this.http.post(f+"/master/add_model_name",r,{headers:Z}).subscribe(y=>{console.log(y),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Created",life:3e3}),this.getDeviceModel()},y=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(y)})}DeleteCompany(o){const n={model_id:o},s=this.api.baseUrl,r=localStorage.getItem("token"),f=(new u.WM).set("Authorization",`Bearer ${r}`);this.http.post(s+"/master/delete_model_name",n,{headers:f}).subscribe(g=>{console.log(g),this.messageService.add({severity:"success",summary:"Successful",detail:"Company Deleted",life:3e3}),this.getDeviceModel()},g=>{this.messageService.add({severity:"error",summary:"Error",detail:"Data Related Issue!!",life:3e3}),console.error(g)})}}return(t=l).\u0275fac=function(o){return new(o||t)(e.Y36(m.qu),e.Y36(u.eN),e.Y36(A.M),e.Y36(_.ez),e.Y36(_.YP),e.Y36(P.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-model"]],features:[e._Bn([_.ez,_.YP])],decls:15,vars:18,consts:[[1,"card"],["styleClass","mb-4 gap-2"],["pTemplate","left"],["pTemplate","right"],["dataKey","company_id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Product Details","styleClass","p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-danger",3,"label","disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help"],[1,"flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","4rem"],["pSortableColumn","company",2,"min-width","15rem"],["field","company"],["pSortableColumn","product",2,"min-width","15rem"],["field","product"],["pSortableColumn","model",2,"min-width","15rem"],["field","model"],[3,"value"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-primary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[3,"formGroup"],[1,"field"],["for","company"],["formControlName","company_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["for","product"],["formControlName","product_id",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["formControlName","model_name","type","text","required","",2,"width","100%","height","39px","border-color","lightgray","border-radius","5px"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"p-toast"),e.TgZ(2,"p-toolbar",1),e.YNc(3,N,2,2,"ng-template",2),e.YNc(4,w,2,1,"ng-template",3),e.qZA(),e.TgZ(5,"p-table",4,5),e.NdJ("selectionChange",function(r){return n.selectedProducts=r}),e.YNc(7,B,6,0,"ng-template",6),e.YNc(8,I,16,0,"ng-template",7),e.YNc(9,F,14,5,"ng-template",8),e.YNc(10,J,2,1,"ng-template",9),e.qZA()(),e.TgZ(11,"p-dialog",10),e.NdJ("visibleChange",function(r){return n.productDialog=r}),e.YNc(12,R,19,3,"ng-template",11),e.YNc(13,q,2,0,"ng-template",12),e.qZA(),e._UZ(14,"p-confirmDialog")),2&o&&(e.xp6(5),e.Q6J("value",n.models)("rows",4)("paginator",!0)("globalFilterFields",e.DdM(14,Y))("tableStyle",e.DdM(15,z))("selection",n.selectedProducts)("rowHover",!0)("showCurrentPageReport",!0),e.xp6(6),e.Akn(e.DdM(16,O)),e.Q6J("visible",n.productDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(17,L)))},dependencies:[v.sg,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.Q7,h.iA,_.jx,h.lQ,h.fz,h.UA,h.Mo,c.Hq,p.o,d.H,b.FN,M.V,S.o,U.Q,m.sg,m.u]}),l})(),K=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[C.Bz.forChild([{path:"",component:H}]),C.Bz]}),l})();var Q=a(6804),$=a(4055),j=a(3965),W=a(6651),G=a(7902),V=a(6022);let X=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,m.u5,h.U$,V.Xt,c.hJ,G.JH,p.j,Q.KZ,d.T,$.q4,j.kW,W.q,b.EV,M.S,S.V,U.D,K,m.UX]}),l})()},6651:(D,x,a)=>{a.d(x,{q:()=>h});var v=a(1180),C=a(6814),_=a(4769);let h=(()=>{var c;class p{}return c=p,(0,v.Z)(p,"\u0275fac",function(b){return new(b||c)}),(0,v.Z)(p,"\u0275mod",_.oAB({type:c})),(0,v.Z)(p,"\u0275inj",_.cJS({imports:[C.ez]})),p})()}}]);