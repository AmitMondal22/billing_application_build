"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[96],{253:(C,y,i)=>{i.d(y,{u:()=>O});var p=i(9862),t=i(4769),_=i(5219),o=i(8814),c=i(981),e=i(6814),n=i(9232),s=i(707),g=i(9920),f=i(7680);function M(r,u){1&r&&(t.TgZ(0,"tr",25)(1,"td",26)(2,"strong"),t._uU(3,"Product"),t.qZA()(),t.TgZ(4,"td",27)(5,"strong"),t._uU(6,"Company"),t.qZA()(),t.TgZ(7,"td",27)(8,"strong"),t._uU(9,"Model"),t.qZA()(),t.TgZ(10,"td",27)(11,"strong"),t._uU(12,"Warranty upto"),t.qZA()(),t.TgZ(13,"td",28)(14,"strong"),t._uU(15,"Price"),t.qZA()()())}function a(r,u){if(1&r&&(t.TgZ(0,"tr")(1,"td",29),t._uU(2),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.qZA(),t.TgZ(5,"td",27),t._uU(6),t.qZA(),t.TgZ(7,"td",27),t._uU(8),t.qZA(),t.TgZ(9,"td",30),t._uU(10),t.ALo(11,"currency"),t.qZA()()),2&r){const m=u.$implicit;t.xp6(2),t.Oqu(m.product_name),t.xp6(2),t.Oqu(m.company_name),t.xp6(2),t.Oqu(m.model_name),t.xp6(2),t.Oqu(m.sels_warranty),t.xp6(2),t.Oqu(t.xi3(11,5,m.price,"INR"))}}function h(r,u){1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",31),t.qZA())}function v(r,u){1&r&&(t.TgZ(0,"div"),t._UZ(1,"img",32),t.qZA())}function D(r,u){1&r&&(t.TgZ(0,"div",33),t._UZ(1,"p-progressSpinner"),t.qZA())}let O=(()=>{var r;class u{constructor(d,l,T,P,Z){this.http=d,this.messageService=l,this.confirmationService=T,this.api=P,this.bill=Z,this.ListData=[],this.spinner=!1,this.tot_price=0,this.Due=!1,this.id=this.bill.billing_id}ngOnInit(){this.getBill(this.id)}getBill(d){this.spinner=!0;const l={billing_id:d},T=this.api.baseUrl,P=localStorage.getItem("token"),Z=(new p.WM).set("Authorization",`Bearer ${P}`);this.http.post(T+"/billing/data",l,{headers:Z}).subscribe(E=>{console.log(E),E&&(this.spinner=!1,this.data=E,this.CustomerDtls=this.data.customer,this.ListData=this.data.list,"P"==this.ListData[0].payment_flag?(this.Paid=!0,this.Due=!1):(this.Due=!0,this.Paid=!1),this.ListData.length>0&&this.ListData.forEach(U=>{this.tot_price+=Number(U.price)}))},E=>{this.spinner=!1,console.error(E)})}callPrint(d){const l=document.getElementById(d).innerHTML,T=document.body.innerHTML;document.body.innerHTML=l,window.print(),document.body.innerHTML=T}}return(r=u).\u0275fac=function(d){return new(d||r)(t.Y36(p.eN),t.Y36(_.ez),t.Y36(_.YP),t.Y36(o.s),t.Y36(c.M))},r.\u0275cmp=t.Xpm({type:r,selectors:[["ng-component"]],decls:64,vars:14,consts:[[1,"grid"],[1,"col-12"],["id","bill",1,"card"],[1,"container"],[1,"row"],[1,"col-xs-12"],[1,"invoice-title",2,"margin-left","4%"],[1,"pull-right"],[1,"row",2,"margin-left","4%"],[1,"col-xs-6"],[1,"col-xs-6","text-right",2,"padding-right","2%"],[1,"field","col-12","md:col-12"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"card","flex","justify-content-center"],[3,"value"],["dt2",""],["pTemplate","header"],["pTemplate","body"],[1,"col-xs-12","text-right"],[4,"ngIf"],[1,"flex","justify-content-center"],[1,"field","col-12","md:col-2"],["pButton","","pRipple","","printSectionId","bill","ngxPrint","","label","Print","icon","pi pi-print",1,"p-button-primary",3,"useExistingCss"],["class","spinner_overlay",4,"ngIf"],[2,"background-color","beige"],[1,"text-left",2,"padding-left","2%"],[1,"text-center"],[1,"text-right",2,"padding-right","2%"],[1,"text-left"],[1,"text-right"],["src","./assets/demo/images/access/paid.png",1,"paid"],["src","./assets/demo/images/access/due.png",1,"due"],[1,"spinner_overlay"]],template:function(d,l){1&d&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),t._uU(8,"Billing-"),t.qZA(),t.TgZ(9,"h3",7),t._uU(10),t.qZA()(),t._UZ(11,"hr"),t.TgZ(12,"div",8)(13,"div",9)(14,"address")(15,"strong"),t._uU(16,"Billed To:"),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"strong"),t._uU(19,"Customer Name:"),t.qZA(),t._uU(20),t._UZ(21,"br"),t.TgZ(22,"strong"),t._uU(23,"Mobile Number:"),t.qZA(),t._uU(24),t._UZ(25,"br"),t.TgZ(26,"strong"),t._uU(27,"Address:"),t.qZA(),t._uU(28),t._UZ(29,"br"),t.qZA()(),t.TgZ(30,"div",10)(31,"address")(32,"strong"),t._uU(33,"Billing Date:"),t.qZA(),t._UZ(34,"br"),t._uU(35),t._UZ(36,"br")(37,"br"),t.qZA()()()()(),t.TgZ(38,"div",4)(39,"div",11)(40,"div",12)(41,"div",13)(42,"h3",14)(43,"strong"),t._uU(44,"Purchase summary"),t.qZA()()(),t.TgZ(45,"p-table",15,16),t.YNc(47,M,16,0,"ng-template",17),t.YNc(48,a,12,8,"ng-template",18),t.qZA(),t.TgZ(49,"div",4)(50,"div",19),t._UZ(51,"br"),t.TgZ(52,"strong"),t._uU(53,"Total Amount:"),t.qZA(),t._uU(54),t.ALo(55,"currency"),t._UZ(56,"br")(57,"br"),t.YNc(58,h,2,0,"div",20),t.YNc(59,v,2,0,"div",20),t.qZA()()()()()()(),t.TgZ(60,"div",21)(61,"div",22),t._UZ(62,"button",23),t.qZA()()()(),t.YNc(63,D,2,0,"div",24)),2&d&&(t.xp6(10),t.hij("Id: ",l.ListData[0].billing_id,""),t.xp6(10),t.Oqu(l.CustomerDtls.name),t.xp6(4),t.Oqu(l.CustomerDtls.mobile_no),t.xp6(4),t.Oqu(l.CustomerDtls.adress),t.xp6(7),t.hij(" ",l.ListData[0].billingdate,""),t.xp6(10),t.Q6J("value",l.ListData),t.xp6(9),t.hij(" ",t.xi3(55,11,l.tot_price,"INR"),""),t.xp6(4),t.Q6J("ngIf",l.Paid),t.xp6(1),t.Q6J("ngIf",l.Due),t.xp6(3),t.Q6J("useExistingCss",!0),t.xp6(1),t.Q6J("ngIf",l.spinner))},dependencies:[e.O5,n.iA,_.jx,s.Hq,g.I,f.G,e.H9],styles:[".invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table1[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table1[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table1[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}.table1[_ngcontent-%COMP%]{width:100%}.paid[_ngcontent-%COMP%]{opacity:18%;position:absolute;top:29%;left:31%}.due[_ngcontent-%COMP%]{opacity:18%;position:absolute;top:30%;left:25%}"]}),u})()},8096:(C,y,i)=>{i.r(y),i.d(y,{EmptyDemoModule:()=>M});var p=i(6814),t=i(3557),_=i(253),o=i(4769);let c=(()=>{var a;class h{}return(a=h).\u0275fac=function(D){return new(D||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[t.Bz.forChild([{path:"",component:_.u}]),t.Bz]}),h})();var e=i(9232),n=i(707),s=i(9920),g=i(7680),f=i(3904);let M=(()=>{var a;class h{}return(a=h).\u0275fac=function(D){return new(D||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[p.ez,c,e.U$,n.hJ,s.K,g.L,f.D]}),h})()},9920:(C,y,i)=>{i.d(y,{I:()=>t,K:()=>_});var p=i(4769);let t=(()=>{class o{constructor(){this._printStyle=[],this.previewOnly=!1,this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(e){for(let n in e)e.hasOwnProperty(n)&&this._printStyle.push((n+JSON.stringify(e[n])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(e){let n=function(s){return`<link rel="stylesheet" type="text/css" href="${s}">`};if(-1!==e.indexOf(",")){const s=e.split(",");for(let g of s)this._styleSheetFile=this._styleSheetFile+n(g)}else this._styleSheetFile=n(e)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(e){const n=[],s=document.getElementsByTagName(e);for(let g=0;g<s.length;g++)n.push(s[g].outerHTML);return n.join("\r\n")}getFormData(e){for(var n=0;n<e.length;n++)e[n].defaultValue=e[n].value,e[n].checked&&(e[n].defaultChecked=!0)}getHtmlContents(){let e=document.getElementById(this.printSectionId),n=e.getElementsByTagName("input");this.getFormData(n);let s=e.getElementsByTagName("textarea");return this.getFormData(s),e.innerHTML}print(){let e,n,s="",g="";const f=this.getElementTag("base");this.useExistingCss&&(s=this.getElementTag("style"),g=this.getElementTag("link")),e=this.getHtmlContents(),n=window.open("","_blank","top=0,left=0,height=auto,width=auto"),n.document.open(),n.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${f}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${s}\n          ${g}\n        </head>\n        <body>\n          ${e}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              ${this.previewOnly?"":`setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});`}\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),n.document.close()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=p.lG2({type:o,selectors:[["button","ngxPrint",""]],hostBindings:function(e,n){1&e&&p.NdJ("click",function(){return n.print()})},inputs:{previewOnly:"previewOnly",printSectionId:"printSectionId",printTitle:"printTitle",useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile"}}),o})(),_=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=p.oAB({type:o}),o.\u0275inj=p.cJS({}),o})()}}]);